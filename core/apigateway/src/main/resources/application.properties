spring.application.name=sentra-iam-apigateway
server.port=${APIGATEWAY_PORT:8080}

eureka.instance.instance-id=${spring.application.name}:${random.uuid}
eureka.client.service-url.default-zone=${DISCOVERY_HOST:localhost}:${DISCOVERY_PORT:8761}/eureka

spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://${APIGATEWAY_HOST:127.0.0.1}:${APIGATEWAY_PORT:8080}/api/auth/v1/introspect
spring.security.oauth2.resourceserver.opaquetoken.client-id=${OPAQUE_CLIENT_ID:client_id}
spring.security.oauth2.resourceserver.opaquetoken.client-secret=${OPAQUE_CLIENT_SECRET:client_secret}

spring.cloud.gateway.server.webflux.routes[0].id=sentra-iam-identity
spring.cloud.gateway.server.webflux.routes[0].uri=lb://sentra-iam-identity
spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/api/identity/**

spring.cloud.gateway.server.webflux.routes[1].id=sentra-iam-auth
spring.cloud.gateway.server.webflux.routes[1].uri=lb://sentra-iam-auth
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/api/auth/**
